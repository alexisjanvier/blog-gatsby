---
title: "Linters"
slug: "linters"
marmelab:
date: "2018-03-04"
description: "Projet parti ! Linter"
tags:
- toolbox
- eslint
- prettier
---

# Eslint et Prettier

Premier article consacré à ma toolbox. Toolbox qui elle même dera l'objet d'un article :) Pour divulgacher un peu, l'idée de la toolbox, c'est d'avoir une serie d'outil du quotidien qu'il est bon de maitriser pour un usage quotidien, justement. Et comme mes posts de blog ne sont que des notes en vue d'autres post de blog ... le problème des linter est venu lors de la préparation d'un autre post de blog (Redux c'est génial, mais pas pour tout) pour lequel j'ai eu besoin de bootstrapper rapidement une petite appli front en cra et une API rest en express.

Et mine de rien, lors d'un tel bootstrap, dès que j'ouvre mon projet dans vs code, le premier truc que je dois réglé, c'est le Linter ! Alors, globallement, je marche au copié/coller des autres projets, et je me retrouve souvent avec tout un tat de plugin et autres dépendances, pour un résultat pas toujours probant qui n'oblige parfois à desactiver certaines règle dans le code. 
Un outil pas pleinement maitrisé donc ! C'est donc l'heure d'un petit bilan pour partir sur de meilleures railles.

## Eslint, c'est quoi
Un truc qui est capable d'analyser le code et de detecter des erreurs dans la syntaxe, mais même un peu plus (import, ect)
Les categories d'analyse.

C'est donc une bon truc.

## Installation et utilisation

Install global ou par projet (mon choix, pour cause des plugin, voir plus tard)

Ensuite, on peut le lancer en ligne de commande.

Mais au quotidien, c'est au niveau de l'IDE
plugin, règles, autosave

Sinon, ca peut-être un test
Ou alors en pre-commit.

## Configuration de base

les globals, les preconfigs, le parser
exemple avec es6 mais pas d'import => babel parser

### Cas server du projet
Ok c'est simple, l'idée étant de ne pas transpiler donc dans les railles. entre autre sur les imports/export

Mais parfois, c'est plus compliquer

### Cas CRA
Besoin du babel
Problème du CRA : pas possible de configurer, donc config pas accessible par vscode. Mais configrc. Il y'a quoi dedans ?

https://medium.com/@adamdziendziel/custom-eslint-config-with-create-react-app-d6f66e8d61

Les extends, plus la conf du plugin  https://www.npmjs.com/package/eslint-config-react-app 

## Prettier

Règle de syntaxe. Pourquoi s'embêté ? Bin, c'est mieux fait, c'est machin truc, je préfère, c'est de l'opinion, ca marche sur d'autres truc, c'est hype :)
Tenter de trouver d'autres arguments ...

Mais exemples de conf avec extend, et puis affinage de quelques règles

## Encore plus ?

Méfiance, + de plugin, moins de contrôle plus de cutom rules à activer desactiver

Bon, mais par exemple, j'aime bien le plugin de jest pour le it plutôt que le test.

## Conclusion
Un des premier trucs auquelles on est confronté en commencant un projet
Commencer petit autant que possible, ne rajouter de nouveaux parser qu'en cas de réel besoin, 
mais pas de copier coller, ou alors écrire son propre extend ? pas certain, ca à besoin d'être configurer par projet, et le conf de base d'eslint sont déjà nombreuses pour s'embarasser d'un trucs à maintenir, que l'on ne maintiendra pas

## Pour suivre
twitter eslint https://twitter.com/geteslint
twitter prettier https://twitter.com/PrettierCode


